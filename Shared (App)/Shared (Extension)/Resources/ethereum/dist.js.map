{"mappings":"ICEA,wCAAoB,AAAC,CAAO,AAAP,EAAO,AAAP,KAAO;GAAb,IAAI;;;ICAnB,wCAAoB,AAAC,CAAO,AAAP,EAAO,AAAP,KAAO;GAAb,IAAI;;;SFCV,8BAAQ,GAAG,CAAC;IAEjB,IAAI,CAAC,MAAM,GAAG,KAAK;IAEnB,IAAI,CAAC,KAAK,OAAS,CAAC;QAChB,MAAM,CAAC,WAAW,EAAE,MAAM;QAC1B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC;QAC9B,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,IAAI,gBAAgB;QAC5C,IAAI,CAAC,OAAO,CAAC,MAAM;QACnB,IAAI,CAAC,GAAG,CAAC,MAAM;QACf,IAAI,CAAC,MAAM,GAAG,KAAK;IACvB,CAAC;IAED,KAAK,CAAC,YAAY,GAAG,CAAC;QAClB,eAAe,GAAG,IAAI;QACtB,MAAM,GAAG,KAAK;QACd,IAAI,GAAG,CAAC;QACR,OAAO,GAAG,CAAC;QACX,QAAQ,GAAG,KAAK;QAChB,GAAG,GAAG,CAAC;QACP,UAAU,GAAG,UAAU;QACvB,KAAK,GAAG,KAAK;QACb,UAAU,GAAG,OAAO;QACpB,MAAM,GAAG,OAAO;IACpB,CAAC;IACD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,EAAE,GAAG;IAC1C,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,YAAY;IAC9C,IAAI,CAAC,OAAO,CAAC,OAAO,OAAS,IAAI,CAAC,KAAK;;IAEvC,KAAK,CAAC,QAAQ,GAAG,CAAC;QACd,UAAU,GAAG,MAAM;QACnB,eAAe,GAAG,IAAI;QACtB,YAAY,GAAG,WAAW;QAC1B,MAAM,GAAG,CAAC;QACV,SAAS,GAAG,IAAI;QAChB,OAAO,GAAG,IAAI;QACd,QAAQ,GAAG,IAAI;QACf,MAAM,GAAG,IAAI;QACb,cAAc,GAAG,MAAM;QACvB,IAAI,GAAG,6BAA6B;QACpC,QAAQ,GAAG,KAAK;QAChB,SAAS,GAAG,gBAAgB;QAC5B,UAAU,GAAG,aAAa;QAC1B,KAAK,GAAG,KAAK;QACb,UAAU,GAAG,SAAS;QACtB,MAAM,GAAG,QAAQ;IACrB,CAAC;IACD,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,aAAa,EAAE,GAAG;IACtC,IAAI,CAAC,GAAG,CAAC,SAAS,IAAI,82BAKtB;IACA,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ;AAE1C,CAAC;AAED,8BAAQ,CAAC,SAAS,CAAC,WAAW,OAAS,CAAC;AAAA,CAAC;AAEzC,8BAAQ,CAAC,SAAS,CAAC,EAAE,IAAI,KAAK,EAAE,QAAQ,GAAK,CAAC;AAa9C,CAAC;AAED,8BAAQ,CAAC,SAAS,CAAC,OAAO,IAAI,OAAO,GAAK,CAAC;IACvC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,GAAK,CAAC;QAErC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,MAAM,SAAS,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI;QAC1E,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,MAAM,SAAS,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI;QAC1E,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,MAAM,SAAS,IAAI,OAAO,CAAC,IAAI,GAAG,IAAI;QAEpE,KAAK,CAAC,UAAU,OAAS,CAAC;YACtB,EAAE,EAAE,MAAM,CAAC,QAAQ,CAAC,MAAM,KAAK,KAAK,EAAE,CAAC;gBACnC,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI;gBAC7B,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,UAAU;gBAC5E,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,UAAU;gBACxE,UAAU,KAAO,CAAC;oBACd,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,GAAE;oBAC1C,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,IAAI,aAAa;gBACxD,CAAC,EAAE,CAAC;YACR,CAAC;QACL,CAAC;QAED,MAAM,CAAE,MAAM;YACV,IAAI,EAAE,mBAAmB;gBACrB,MAAM,CAAC,WAAW,EAAE,mBAAmB;gBACvC,MAAM,CAAC,gBAAgB,EAAE,OAAO,IAAI,KAAK,GAAK,CAAC;oBAC3C,EAAE,EAAE,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,MAAM,GAC7B,OAAO,CAAC,CAAC,CAAC;yBACP,EAAE,EAAE,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,MAAM,GACpC,OAAO,CAAC,KAAK,CAAC,IAAI;gBAE1B,CAAC;gBACD,UAAU;gBACV,KAAK;YACT,IAAI,EAAE,oBAAoB;gBACtB,MAAM,CAAC,WAAW,EAAE,sBAAsB;gBAC1C,UAAU;gBACV,OAAO,CAAC,IAAI;gBACZ,KAAK;;gBAEL,EAAoC,AAApC,kCAAoC;gBACpC,OAAO,CAAC,KAAK;;IAEzB,CAAC;AACL,CAAC;AAED,EAIE,AAJF;;;;AAIE,AAJF,EAIE,CAEF,MAAM,CAAC,QAAQ,GAAG,GAAG,CAAC,8BAAQ","sources":["index.js","events/accountsChanged.js","methods/eth_requestAccounts.js"],"sourcesContent":["import accountsChanged from './events/accountsChanged.js';\nimport eth_requestAccounts from './methods/eth_requestAccounts.js';\n\nfunction Ethereum() {\n\n    this.opened = false;\n\n    this.close = () => {\n        window.postMessage(`cancel`);\n        this.overlay.style.opacity = 0;\n        this.div.style.transform = `translateY(100%)`;\n        this.overlay.remove();\n        this.div.remove();\n        this.opened = false;\n    };\n\n    const styleOverlay = {\n        backgroundColor: `#000`,\n        height: `100vh`,\n        left: `0`,\n        opacity: `0`,\n        position: `fixed`,\n        top: `0`,\n        transition: `opacity .2`,\n        width: `100vw`,\n        willChange: `opacity`,\n        zIndex: `9999999`,\n    };\n    this.overlay = document.createElement(`div`);\n    Object.assign(this.overlay.style, styleOverlay);\n    this.overlay.onclick = () => this.close();\n\n    const styleDiv = {\n        alignItems: `center`,\n        backgroundColor: `#fff`,\n        borderRadius: `8px 8px 0 0`,\n        bottom: `0`,\n        columnGap: `18px`,\n        display: `flex`,\n        fontSize: `18px`,\n        height: `45px`,\n        justifyContent: `center`,\n        left: `calc(calc(100vw - 368px) / 2)`,\n        position: `fixed`,\n        transform: `translateY(100%)`,\n        transition: `transform .3s`,\n        width: `368px`,\n        willChange: `transform`,\n        zIndex: `10000000`,\n    };\n    this.div = document.createElement(`div`);\n    this.div.innerHTML = `\n        <svg width=\"22px\" height=\"16px\" viewBox=\"0 0 22 16\" fill=\"none\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 1.33333C0 0.597005 0.616262 0 1.37634 0H15.1398C15.8998 0 16.5161 0.597005 16.5161 1.33333V6.23633C17.0205 5.68262 17.7583 5.33333 18.5806 5.33333C20.1008 5.33333 21.3333 6.52734 21.3333 8C21.3333 9.47266 20.1008 10.6667 18.5806 10.6667C17.7583 10.6667 17.0205 10.3174 16.5161 9.76367V14.6667C16.5161 15.403 15.8998 16 15.1398 16H1.37634C0.616262 16 0 15.403 0 14.6667V10.2445C0 9.33333 1.61089 9.26921 2.07089 9.77083C2.57526 10.3203 3.31048 10.6667 4.12903 10.6667C5.64919 10.6667 6.88171 9.47266 6.88171 8C6.88171 6.52734 5.64919 5.33333 4.12903 5.33333C3.31048 5.33333 2.57526 5.67969 2.07089 6.22917C1.61089 6.73079 0 6.66667 0 5.75553V1.33333Z\" fill=\"#3478f6\" />\n        </svg>\n        <p>Open the wallet extension to connect</p>\n    `;\n    Object.assign(this.div.style, styleDiv);\n\n}\n\nEthereum.prototype.isConnected = () => {};\n\nEthereum.prototype.on = (event, callback) => {\n    switch (event) {\n        case `accountsChanged`:\n            break;\n        case `chainChanged`:\n            break;\n        case `connect`:\n            break;\n        case `disconnect`:\n            break;\n        default:\n            // * Invalid or unimplemented event\n    }\n}\n\nEthereum.prototype.request = (payload) => {\n    return new Promise((resolve, reject) => {\n\n        let method = typeof payload.method !== `undefined` ? payload.method : null;\n        let params = typeof payload.params !== `undefined` ? payload.params : null;\n        let from = typeof payload.from !== `undefined` ? payload.from : null;\n\n        const showPrompt = () => {\n            if (window.ethereum.opened === false) {\n                window.ethereum.opened = true;\n                document.body.insertBefore(window.ethereum.overlay, document.body.firstChild);\n                document.body.insertBefore(window.ethereum.div, document.body.firstChild);\n                setTimeout(() => {\n                    window.ethereum.overlay.style.opacity = .4;\n                    window.ethereum.div.style.transform = `translateY(0)`;\n                }, 1);\n            }\n        };\n\n        switch (method) {\n            case `eth_requestAccounts`:\n                window.postMessage(`eth_requestAccounts`);\n                window.addEventListener(`message`, (event) => {\n                    if (typeof event.data === `cancel`) {\n                        resolve([]);\n                    } else if (typeof event.data !== `string`) {\n                        resolve(event.data);\n                    }\n                });\n                showPrompt();\n                break;\n            case `eth_signTypedData_v3`:\n                window.postMessage(`eth_signedTypedData_v3`);\n                showPrompt();\n                resolve(true);\n                break;\n            default:\n                // * Invalid or unimplemented method\n                resolve(false);\n        }\n    });\n};\n\n/*\nwindow.addEventListener(`message`, (event) => {\n    console.log(event.data);\n});\n*/\n\nwindow.ethereum = new Ethereum();\n","`use strict`;\n\nexport default null; // TODO\n","`use strict`;\n\nexport default null; // TODO\n"],"names":[],"version":3,"file":"dist.js.map"}